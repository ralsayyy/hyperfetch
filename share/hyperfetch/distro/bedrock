function has {
  command -v $1 &>/dev/null
  return $?
}

function packages_info {
  {
  has qlist && {
    qlist -IC | wc -l | tr -d "\n"; echo -n " (emerge) "
  } &
  has pacman-key && {
    pacman -Q | wc -l | tr -d "\n"; echo -n " (pacman) "
  } &
  wait
  } > /run/user/$UID/hyperfetch/packages
}
